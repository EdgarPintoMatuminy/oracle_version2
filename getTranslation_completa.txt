function getTranslation(questionNum,type){
  const T={
    1:{q:"Asistente de config - crear dominio con clÃºster de 3 servidores y proxy HTTP. Â¿QuÃ© tres pasos?",o:["Crear un clÃºster","Instalar Oracle HTTP Server","Crear servidor Coherence","Crear cuatro servidores administrados","Asignar tres servidores al clÃºster","Especificar puerto proxy para servidor admin"]},
    2:{q:"Usar BD para almacenar logs de transacciones WebLogic. Â¿QuÃ© dos pasos?",o:["Seleccionar 'JDBC' como tipo de almacÃ©n en Servicios del servidor","Seleccionar 'Deshabilitar AlmacÃ©n Predeterminado'","Crear origen de datos no-XA para log de transacciones","Crear origen de datos XA para log de transacciones"]},
    3:{q:"Â¿QuÃ© tipo de persistencia de sesiÃ³n NO es vÃ¡lido?",o:["async_replicated","async_jdbc","replicado","async_memory","cookie","archivo","replicated_if_clustered"]},
    4:{q:"Admin dice que no necesita backup en mÃ¡quina con solo servidores administrados. Â¿Mejor explicaciÃ³n?",o:["Verdadero: archivos se recrean con pack/unpack","Verdadero (excepciÃ³n): si usa LDAP integrado","Verdadero (excepciÃ³n): para apps desplegadas en servidor admin","Falso: necesita backup con comandos del SO"]},
    5:{q:"Â¿QuÃ© afirmaciÃ³n es verdadera sobre detener Node Manager?",o:["Si detiene NM, los servidores que iniciÃ³ tambiÃ©n se detienen","Puede eliminar el proceso NM con comandos del SO","Usar stopNodeManager.sh para detenciÃ³n elegante","Usar consola admin, seleccionar mÃ¡quina y clic en Detener","Admin entra en modo ADMIN si no se comunica con NM","Servidores administrados entran en modo ADMIN si no se comunican con NM"]},
    6:{q:"Origen de datos no-XA en transacciones globales con EJB y One-phase commit. Â¿Por quÃ© incorrecto?",o:["Debe elegir driver XA para transacciones globales","One Phase Commit siempre devuelve 'listo', puede tener errores heurÃ­sticos","One-Phase Commit procesa Ãºltimo; si EJB debe ir Ãºltimo, no se puede usar","One-Phase Commit solo permite este origen en transacciÃ³n global, no con EJB"]},
    7:{q:"ClÃºster dinÃ¡mico - distribuir servidores entre mÃ¡quinas. Â¿Tres configuraciones soportadas?",o:["Usar una sola mÃ¡quina","Usar todas las mÃ¡quinas en subred","Usar todas las mÃ¡quinas del dominio","Usar porcentaje de mÃ¡quinas del dominio","Usar mÃ¡quinas cuyo nombre coincida con expresiÃ³n"]},
    8:{q:"Â¿QuÃ© acciÃ³n hace backup automÃ¡tico de configuraciÃ³n al activar cambios?",o:["Usar backup='true' en activate() de WLST","Consola: seleccionar 'Seguir cambios de configuraciÃ³n'","Consola: seleccionar 'Archivo de configuraciÃ³n habilitado'","Config automÃ¡tica crea backups al arrancar, no al activar"]},
    9:{q:"Â¿Mejor soluciÃ³n para manejar cargas crecientes que superan la capacidad?",o:["AÃ±adir tercer clÃºster y distribuir instancias","Modificar balanceo de carga del proxy a basado en peso","Configurar clÃºsteres dinÃ¡micos con instancias anticipadas","Ajustar gestores de trabajo","Reemplazar balanceador software por hardware"]},
    10:{q:"Â¿CÃ³mo deshabilitar ayuda en lÃ­nea para todos los admins?",o:["No se puede deshabilitar","Solo se puede hacer por usuario","Iniciar sesiÃ³n en consola y deshabilitar ayuda en lÃ­nea","Usar WLST con EnableInlineHelp(false)"]},
    11:{q:"Instalar WebLogic con instalador JAR en modo silencioso. Â¿Dos formas de crear archivo de respuesta?",o:["Instalar grÃ¡ficamente, guardar archivo de respuesta","Usar archivo de respuesta de ejemplo de la documentaciÃ³n","Ejecutar Repository Creation Utility","No se requiere archivo de respuesta","El instalador JAR no tiene modo silencioso"]},
    12:{q:"Dominio con 30 servidores. Â¿Forma mÃ¡s rÃ¡pida de identificar servidores en estado Failed?",o:["Usar botÃ³n Filter en pestaÃ±a Monitoring > Health del dominio","Ver pestaÃ±a Monitoring > Health de cada servidor","Escribir script WLST personalizado","Capturar snapshot de diagnÃ³stico"]},
    13:{q:"Config Java Node Manager con script de parada, reinicio en crash, SSL y comprobaciÃ³n cada segundo. Â¿Config correcta?",o:["StopScriptEnabled=true, CrashRestartEnabled=true, SecureListener=true, StateCheckInterval=1","StopScriptEnabled=true, CrashRecoveryEnabled=true, SecureListener=SSL, StateCheckInterval=1000","StopScriptEnabled=true, CrashRestartEnabled=true, SecureListener=true, StateCheckInterval=1000","StopScript=true, CrashRecoveryEnabled=true, SecureListener=true, StateCheckInterval=1000","StopScriptEnabled=true, CrashRecoveryEnabled=true, SecureListener=true, StateCheckInterval=1000"]},
    14:{q:"Â¿Tres afirmaciones verdaderas sobre clÃºsteres WebLogic?",o:["Los clÃºsteres proporcionan failover transparente","Apps EJB pueden dirigirse a todo el clÃºster","Todos los miembros deben vincularse al mismo puerto","Los miembros replican datos mediante heartbeats","Los miembros pueden estar en mÃºltiples dominios","Las apps web requieren proxy en el clÃºster"]},
    15:{q:"WLDF con Dye Injection. Â¿DÃ³nde encontrar el ID de contexto diagnÃ³stico?",o:["Necesitas Events Data Archive","Necesitas Harvested Data Archive","Necesitas el log del dominio","Puedes buscar el ID en el log del servidor","Necesitas traducir el ID de contexto a ID de transacciÃ³n"]},
    16:{q:"Desplegar inventory.war en estado 'Prepared'. Probar antes de usuarios. Â¿QuÃ© host:port usar?",o:["Host y puerto de managed1","Host y puerto del Admin Server","Host y puerto de administraciÃ³n de managed1","Host y puerto de administraciÃ³n del Admin Server"]},
    17:{q:"Crear clÃºster con consola admin. Â¿Dos afirmaciones verdaderas?",o:["Todos los servidores deben crearse antes del clÃºster","Hay que elegir modo de mensajerÃ­a del clÃºster","Un clÃºster no dinÃ¡mico puede cambiar a dinÃ¡mico","Una vez creado, no se puede cambiar el modo de mensajerÃ­a","La consola no permite migrar manualmente servicios singleton"]},
    18:{q:"Servidor administrado lanza OutOfMemory. Â¿CÃ³mo guardar heap dump en D:\\hprof-dumps\\?",o:["-XX:+DumpHeapOnOutOfMemory -XX:DumpPath=D:\\hprof-dumps","-XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=D:\\hprof-dumps","-XX:+DumpHeapOnOutOfMemoryError -XX:HeapPath=D:\\hprof-dump","-XX:+HeapDumpOnOutOfMemory -XX:HeapDumpPath=D:\\hprof-dumps","-XX:+HeapDumpOnOutOfMemoryError -XX:DumpPath=D:\\hprof-dumps","-XX:+HeapDumpOnOutOfMemoryException -XX:HeapDumpPath=D:\\hprof-dumps"]},
    19:{q:"Consola admin monitorizando recurso. Â¿Tres tÃ©cnicas para personalizar la salida?",o:["Ordenar filas por columna especÃ­fica","Limitar nÃºmero de filas mostradas","Cambiar orden de columnas","Ver filas de rango de tiempo especÃ­fico","Combinar mÃºltiples columnas"]},
    20:{q:"Empresa con objetos COM. Â¿QuÃ© artefacto WebLogic ayuda a usarlos?",o:["Messaging Bridge","IDL Mapper","jCOM","XMLRegistry","COM2Java"]},
    21:{q:"Origen de datos JDBC genÃ©rico con red poco fiable. Â¿Dos atributos para evitar fallos?",o:["Statement Cache Type","Pool Reserve Mode","Test Table Name","Test Connection Mode","Test Connections on Reserve"]},
    22:{q:"Â¿Tres tareas que puede realizar Node Manager?",o:["Iniciar un servidor","Definir nuevo servidor","Hospedar consola de Node Manager","Reiniciar automÃ¡ticamente servidor fallido","Matar aplicaciÃ³n fallida","Matar proceso de servidor que no se apagÃ³ correctamente"]},
    23:{q:"Creaste clase de apagado MyClass. Â¿QuÃ© es verdadero?",o:["Puede especificarse en el Asistente de ConfiguraciÃ³n","Debe estar en el classpath de WebLogic Server","Solo puede dirigirse a una instancia de servidor","No debe tener mÃ©todo main"]},
    24:{q:"ClÃºster no dinÃ¡mico existente. Â¿Dos formas de crear nuevo servidor?",o:["Usar Asistente de ConfiguraciÃ³n","Usar pack/unpack para copiar servidor existente","Usar Consola para aÃ±adir canal de red al clÃºster","Usar Consola para clonar servidor existente del clÃºster"]},
    25:{q:"Poner app web offline. Â¿Tres opciones soportadas al detener app?",o:["Terminar sesiones HTTP inmediatamente","Terminar sesiones HTTP tras 3 minutos","Mover sesiones HTTP a base de datos","Esperar a que las sesiones HTTP expiren","Permitir nuevas peticiones solo por puerto admin","Mover peticiones en curso a otro servidor"]},
    26:{q:"Login en app web. 'Acceso Denegado' al publicar. Â¿Dos afirmaciones verdaderas?",o:["App no asociada con roles de seguridad","Reinos de seguridad no configurados","Tu cuenta de usuario expirÃ³","Tu cuenta existe en el proveedor de autenticaciÃ³n","PolÃ­tica de seguridad adjunta a la URL 'publicar'"]},
    27:{q:"Analizar sesiones HTTP y heap juntos. Â¿Tres pasos?",o:["Crear vista personalizada","Iniciar vista JVM Runtime","Arrastrar cada mÃ©trica a grÃ¡ficas en la misma vista","Acceder al Dashboard de MonitorizaciÃ³n","Hacer clic en pestaÃ±a Monitoring de la aplicaciÃ³n"]},
    28:{q:"App falla: origen de datos JDBC no encontrado. Â¿Dos pasos para verificar disponibilidad?",o:["Lanzar utilidad JDBCDiagnostics","Verificar atributo Dependencies","Ver Ã¡rbol JNDI del servidor objetivo","Verificar que app y origen de datos tienen el mismo objetivo"]},
    29:{q:"Â¿Tres afirmaciones verdaderas sobre comportamiento de proxy plugins?",o:["El proxy ancla al cliente al servidor si se crea cookie de sesiÃ³n","El proxy hace failover si expira la conexiÃ³n","El proxy distribuye peticiones segÃºn CPU","El proxy aprende dinÃ¡micamente las ubicaciones del clÃºster","El proxy siempre usa SSL","El proxy replica datos de sesiÃ³n"]},
    30:{q:"Â¿CuÃ¡ndo se crea el directorio de managed1?",o:["Cuando managed1 se define en el Asistente","Cuando se crea el dominio","Cuando el Admin Server arranca por primera vez","Cuando managed1 arranca por primera vez"]},
    31:{q:"Â¿Dos mÃ©tricas para monitorizar unicast en clÃºster?",o:["Groups","Master","Backup Server","Session Replicas","Local Group Leader"]},
    32:{q:"Arranque falla: direcciÃ³n ya en uso. Â¿Dos mÃ©todos para identificar quÃ© estÃ¡ escuchando?",o:["pmap lista procesos con puerto","lsof en UNIX informa sobre proceso en IP:puerto","netstat informa sobre proceso vinculado a IP:puerto","pstat da estadÃ­sticas detalladas","PortInfo en Linux genera alerta"]},
    33:{q:"ClÃºster dinÃ¡mico. Admin de red requiere que todos usen mycompany.com. Â¿QuÃ© acciÃ³n?",o:["Usar ${macro} en direcciÃ³n de escucha de la plantilla","Asignar cada servidor a mÃ¡quina separada","Crear mÃºltiples plantillas","Actualizar prefijo de direcciÃ³n de escucha del clÃºster"]},
    34:{q:"Script startWebLogic.sh en carpeta raÃ­z. Â¿QuÃ© hace?",o:["Inicia una mÃ¡quina","Inicia Node Manager","Inicia servidor administrado","Llama a startWebLogic.sh en bin del dominio","Llama a startManagedWebLogic.sh"]},
    35:{q:"MÃºltiples canales de red. CombinaciÃ³n Ãºnica de dos elementos. Â¿CuÃ¡les?",o:["Tunneling habilitado","DirecciÃ³n de escucha","Puerto de escucha","Salida habilitada","Peso del canal"]},
    36:{q:"Â¿Dos razones para definir mÃ¡quinas?",o:["La mÃ¡quina puede ser proxy","La definiciÃ³n de mÃ¡quina es necesaria para Node Manager","Para referenciar instancia hay que conocer mÃ¡quina y puerto","La mÃ¡quina es unidad organizativa obligatoria","WebLogic usa asignaciones para replicaciÃ³n de sesiÃ³n","El peso del clÃºster de la mÃ¡quina lo usan los balanceadores"]},
    37:{q:"Quieres transacciones recuperables cuando servidor no clusterizado falla. Â¿QuÃ© es verdadero?",o:["No es posible. Debes usar almacÃ©n JDBC","No es posible. Debes usar servidores clusterizados","ComÃºn, la configuraciÃ³n por defecto funciona","Antes del crash, actualizar ruta a almacenamiento compartido","DespuÃ©s del crash, obtener copia del admin server"]},
    38:{q:"Escalar clÃºster. Â¿Dos cambios obligatorios?",o:["Crear plan de despliegue","Crear nueva mÃ¡quina","Crear nuevo servidor","AÃ±adir servidor al clÃºster","AÃ±adir servidor a mÃ¡quina","AÃ±adir clÃºster a mÃ¡quina"]},
    39:{q:"Â¿Dos afirmaciones verdaderas sobre actualizar a 12c?",o:["Para usar el Asistente, la versiÃ³n actual debe ser 9.0+","El Asistente de ActualizaciÃ³n ya no estÃ¡ en 12.1.2","DespuÃ©s del asistente, reaplicar personalizaciones de scripts","Hay que actualizar archivos admin"]},
    40:{q:"Dominio actualizado de 10.3.6 a 12.1.12. Â¿Modo de Node Manager tras la actualizaciÃ³n?",o:["Sin cambios, funciona igual","En modo 'por mÃ¡quina', no se necesita nada","En modo 'por dominio', requiere pasos manuales para volver a 'por mÃ¡quina'","El modo puede seleccionarse en el Asistente"]},
    41:{q:"Â¿Tres afirmaciones sobre parchear usando OPatch?",o:["Cada parche tiene readme con instrucciones","Se puede usar OPatch para ver parches aplicados","OPatch es GUI, requiere gestor de ventanas","OPatch requiere JDK","DespuÃ©s de instalar, descargar OPatch","Cada ZIP viene con OPatch"]},
    42:{q:"Configurar RDBMS Security Store. Â¿Tres acciones posibles?",o:["Crear tablas en el almacÃ©n","Ejecutar scripts SQL en directorio lib","Poblar tablas con usuarios LDAP externos","Probar conexiÃ³n a base de datos","Asignar tablespace"]},
    43:{q:"GridLink para RAC con FCF. Â¿Dos afirmaciones verdaderas?",o:["Oracle Notification notifica cambios en RAC","FCF es rÃ¡pido, los timeouts son muy bajos","FCF hace polling y pruebas","FCF requiere servidor de base de datos en GridLink","Se puede usar cualquier driver Oracle Thin"]},
    44:{q:"Usar consola para iniciar servidor administrado. Â¿Tres condiciones necesarias?",o:["En config, servidor asignado a mÃ¡quina","Node Manager en mÃ¡quina del admin","Node Manager en mÃ¡quina del servidor administrado","Admin usa SSL unidireccional con Node Manager","En config, Node Manager configurado para la mÃ¡quina","Java Node Manager configurado"]},
    45:{q:"Servidor de producciÃ³n necesita certificados SSL reales. Â¿QuÃ© herramienta usar?",o:["keytool de Java","openssl","Consola de AdministraciÃ³n WebLogic","Oracle Certificate Manager","Herramienta SSL de terceros"]},
    46:{q:"Â¿Dos afirmaciones verdaderas sobre despliegue staged vs. nostage?",o:["En staged, archivos se copian a cada servidor objetivo","En nostage, archivos se copian a cada servidor objetivo","Staged es el predeterminado","Nostage requiere almacenamiento compartido","En staged, el admin server mantiene la copia maestra"]},
    47:{q:"Pool de conexiones lleno y llega nueva peticiÃ³n. Â¿QuÃ© ocurre?",o:["La peticiÃ³n falla inmediatamente","La peticiÃ³n espera hasta que haya conexiÃ³n disponible o expire timeout","Se crea nueva conexiÃ³n aunque supere el mÃ¡ximo","La peticiÃ³n se redirige a otro origen de datos","Se activa circuit breaker automÃ¡ticamente"]},
    48:{q:"Â¿QuÃ© tipo de proveedor configurar para LDAP externo?",o:["DefaultAuthenticator","LDAPAuthenticator","ActiveDirectoryAuthenticator","OracleInternetDirectory","CustomLDAPAuthenticator"]},
    49:{q:"Â¿QuÃ© herramienta captura datos de diagnÃ³stico sin reiniciar el servidor?",o:["WLDF (WebLogic Diagnostic Framework)","JRockit Flight Recorder","Java Mission Control","VisualVM","JConsole"]},
    50:{q:"Quieres desplegar app sin interrumpir usuarios actuales. Â¿QuÃ© caracterÃ­stica usar?",o:["Blue-green deployment","Production Redeployment","Parallel deployment","Rolling restart","Zero-downtime deployment"]},
    51:{q:"Â¿DÃ³nde se almacena la configuraciÃ³n de seguridad del dominio?",o:["En config.xml del dominio","En el servidor LDAP integrado","En base de datos externa","En archivo security.xml","En el servidor admin Ãºnicamente"]},
    52:{q:"Â¿QuÃ© ocurre cuando Node Manager pierde conexiÃ³n con el Admin Server?",o:["Node Manager se detiene inmediatamente","NM continÃºa monitorizando y gestionando servidores locales","Todos los servidores administrados se detienen","NM intenta reconectar indefinidamente","NM entra en modo de solo lectura"]},
    53:{q:"Â¿Diferencia entre origen de datos XA y no-XA?",o:["XA soporta transacciones distribuidas, no-XA no","No-XA es mÃ¡s rÃ¡pido para transacciones simples","XA requiere driver especial de Oracle","No-XA no soporta pool de conexiones","XA solo funciona con Oracle Database"]},
    54:{q:"Â¿CÃ³mo se configura SSL en WebLogic Server?",o:["Solo mediante archivos de configuraciÃ³n XML","Mediante Consola de AdministraciÃ³n o WLST","Requiere reinicio completo del dominio","Solo durante la instalaciÃ³n inicial","Solo mediante el Asistente de ConfiguraciÃ³n"]},
    55:{q:"ClÃºster WebLogic. Â¿CÃ³mo se elige el servidor primario para replicaciÃ³n de sesiÃ³n?",o:["Por nÃºmero de sesiones activas","Por carga de CPU","Por orden alfabÃ©tico del nombre","Aleatoriamente al crear la sesiÃ³n","Por configuraciÃ³n manual del admin"]},
    56:{q:"Â¿QuÃ© es un plan de despliegue en WebLogic?",o:["Archivo que describe pasos de instalaciÃ³n","Archivo XML que modifica descriptores de despliegue sin cambiar la app","ConfiguraciÃ³n de rollback para despliegues fallidos","Script WLST para automatizar despliegues","Documento de planificaciÃ³n de capacidad"]},
    57:{q:"Â¿QuÃ© archivo de configuraciÃ³n principal contiene la topologÃ­a del dominio?",o:["domain.xml","weblogic.xml","config.xml","topology.xml","server.xml"]},
    58:{q:"Â¿CuÃ¡ndo es necesario usar Node Manager?",o:["Siempre que se use WebLogic","Solo en entornos de producciÃ³n","Cuando se necesita iniciar/parar servidores remotamente o reinicio automÃ¡tico","Solo cuando hay mÃºltiples mÃ¡quinas","Solo en modo clÃºster"]},
    59:{q:"Â¿QuÃ© es un JDBC Store en WebLogic?",o:["Tipo de origen de datos para aplicaciones","AlmacÃ©n persistente que usa BD para guardar mensajes JMS o logs de transacciones","Cache de consultas SQL","Pool de conexiones especializado","Tipo de origen de datos GridLink"]},
    60:{q:"Â¿CÃ³mo se configuran roles de seguridad en WebLogic?",o:["Solo en archivos de despliegue","Solo en la Consola de AdministraciÃ³n","En archivos de despliegue, Consola Admin o WLST","Solo durante el despliegue","En el archivo config.xml del dominio"]},
    61:{q:"Â¿QuÃ© es el modo 'Admin' de un servidor WebLogic?",o:["Modo donde solo el admin puede iniciar sesiÃ³n","Modo donde el servidor acepta solo peticiones administrativas","Modo de mantenimiento con funcionalidad reducida","Estado previo al inicio completo","Modo de depuraciÃ³n con logging extra"]},
    62:{q:"Â¿QuÃ© es la migraciÃ³n de servicios singleton en un clÃºster?",o:["Mover una app de un servidor a otro","Trasladar automÃ¡ticamente un servicio Ãºnico de servidor fallido a otro disponible","Migrar configuraciÃ³n entre dominios","Copiar datos de sesiÃ³n entre servidores","Actualizar un servidor sin interrupciones"]},
    63:{q:"Â¿Diferencia entre Java Node Manager y Script Node Manager?",o:["Java NM es mÃ¡s rÃ¡pido","Script NM usa scripts del SO; Java NM es proceso Java independiente mÃ¡s fiable","Java NM requiere JDK separado","Script NM solo funciona en Linux","Java NM solo funciona en Windows"]},
    64:{q:"Â¿QuÃ© es el Configuration Archive en WebLogic?",o:["Backup manual del dominio","Historial automÃ¡tico de cambios de configuraciÃ³n almacenado en ZIP","ExportaciÃ³n del dominio para migraciÃ³n","Log de auditorÃ­a de cambios","Snapshot de rendimiento del dominio"]},
    65:{q:"Â¿QuÃ© es Multi Data Source en WebLogic?",o:["Varios orÃ­genes de datos en pool Ãºnico para failover o balanceo de carga","Origen de datos con mÃºltiples conexiones simultÃ¡neas","Origen de datos que conecta a mÃºltiples schemas","ConfiguraciÃ³n JDBC para RAC de Oracle","AgrupaciÃ³n de orÃ­genes de datos por tema"]},
    66:{q:"Â¿CÃ³mo se implementa Single Sign-On (SSO) en WebLogic?",o:["Configurando mÃºltiples reinos de seguridad","Usando proveedor de identidad SAML o Oracle Access Manager","Compartiendo cookies entre aplicaciones","Solo disponible con Oracle Identity Management","Configurando LDAP compartido entre dominios"]},
    67:{q:"Â¿QuÃ© es el heartbeat en un clÃºster WebLogic?",o:["Mensaje periÃ³dico entre miembros para detectar fallos y mantener membresÃ­a","MÃ©trica de rendimiento del servidor","Ping de comprobaciÃ³n de conectividad","Log de estado del clÃºster","SeÃ±al de sincronizaciÃ³n de configuraciÃ³n"]},
    68:{q:"Â¿Diferencia entre despliegue en clÃºster y en servidor individual?",o:["El despliegue en clÃºster requiere plan de despliegue","El clÃºster distribuye app a todos los miembros automÃ¡ticamente","El despliegue individual es mÃ¡s fiable","No hay diferencia funcional","El clÃºster requiere reinicio para nuevos despliegues"]},
    69:{q:"Â¿QuÃ© herramienta se usa para empaquetar y transferir dominios entre mÃ¡quinas?",o:["zip/tar del SO","pack y unpack de WebLogic","Configuration Wizard","WLST con comandos export/import","Oracle Enterprise Manager"]},
    70:{q:"Â¿CuÃ¡ndo se usa modo 'per-domain' de Node Manager vs 'per-machine'?",o:["Per-domain es mÃ¡s seguro","Per-domain gestiona mÃºltiples dominios con un NM; per-machine gestiona todos los dominios de una mÃ¡quina","Per-machine es la configuraciÃ³n por defecto en 12c","No hay diferencia prÃ¡ctica","Per-domain requiere mÃ¡s recursos"]},
    71:{q:"Â¿QuÃ© es el Statement Cache en un origen de datos JDBC?",o:["Cache de resultados de consultas SQL","Cache de sentencias SQL preparadas para mejorar rendimiento","Buffer de conexiones pendientes","Log de sentencias SQL ejecutadas","Pool de transacciones activas"]},
    72:{q:"Â¿QuÃ© es un Security Realm en WebLogic?",o:["Zona de red protegida","Contenedor de proveedores de seguridad que gestionan autenticaciÃ³n y autorizaciÃ³n","Certificado SSL del servidor","PolÃ­tica de seguridad del dominio","Grupo de usuarios con mismos permisos"]},
    73:{q:"Â¿CÃ³mo se actualizan apps en producciÃ³n sin downtime?",o:["Reiniciando el clÃºster completo","Usando Production Redeployment con versiones de aplicaciÃ³n","Deteniendo y reiniciando cada servidor individualmente","Solo es posible con downtime planificado","Usando el modo nostage automÃ¡ticamente"]},
    74:{q:"Â¿QuÃ© es la replicaciÃ³n de sesiÃ³n en memoria en un clÃºster?",o:["Almacenar sesiones en base de datos compartida","Copiar datos de sesiÃ³n HTTP a otro servidor del clÃºster para failover","Sincronizar sesiones entre dominios","Cache distribuido de sesiones","Backup periÃ³dico de sesiones a disco"]},
    75:{q:"Â¿QuÃ© contiene el archivo boot.properties?",o:["ConfiguraciÃ³n de arranque del JVM","Credenciales cifradas para arranque automÃ¡tico del servidor","ParÃ¡metros de red del servidor","Lista de aplicaciones a desplegar al inicio","ConfiguraciÃ³n de Node Manager"]},
    76:{q:"Â¿QuÃ© ocurre si Node Manager no estÃ¡ disponible al iniciar servidor administrado?",o:["El servidor no puede iniciarse","Se puede iniciar manualmente con startManagedWebLogic.sh","El Admin Server intenta iniciarlo directamente","El servidor se inicia en modo degradado","Solo se puede iniciar si hay otro NM disponible"]},
    77:{q:"Â¿QuÃ© es el Connection Pool en un origen de datos JDBC?",o:["Lista de consultas SQL precargadas","Conjunto de conexiones de BD mantenidas y reutilizadas para mejorar rendimiento","Buffer de transacciones pendientes","Cache de metadatos de tablas","Conjunto de credenciales de base de datos"]},
    78:{q:"Â¿QuÃ© es un proveedor de autorizaciÃ³n en WebLogic?",o:["Sistema que autentica usuarios","Sistema que determina quÃ© recursos puede acceder un usuario autenticado","Proveedor de certificados SSL","Sistema de auditorÃ­a de accesos","Gestor de sesiones de usuario"]},
    79:{q:"Â¿QuÃ© significa que una app estÃ© en estado 'Prepared' en WebLogic?",o:["La app estÃ¡ lista para usuarios","La app estÃ¡ desplegada pero no activada; solo acepta peticiones administrativas","La app estÃ¡ en proceso de despliegue","La app tiene errores de validaciÃ³n","La app estÃ¡ esperando recursos"]},
    80:{q:"Â¿QuÃ© protocolo usa WebLogic para comunicaciÃ³n entre miembros del clÃºster?",o:["HTTP/HTTPS","T3/T3S (protocolo propietario Oracle)","RMI sobre IIOP","UDP multicast","TCP directo entre pares"]},
    81:{q:"Â¿QuÃ© es el Administration Port en WebLogic?",o:["Puerto del Admin Server para gestionar el dominio","Puerto SSL separado para trÃ¡fico administrativo exclusivo","Puerto de Node Manager","Puerto de comunicaciÃ³n entre servidores del clÃºster","Puerto de la consola de administraciÃ³n"]},
    82:{q:"Â¿Diferencia entre reiniciar servidor con NM vs. con script?",o:["No hay diferencia","NM puede reiniciar automÃ¡ticamente tras crash y monitoriza el proceso; el script es manual","El script es mÃ¡s rÃ¡pido","NM requiere mÃ¡s configuraciÃ³n pero es menos fiable","El script puede reiniciar remotamente sin NM"]},
    83:{q:"Â¿QuÃ© es el Inactive Connection Timeout en un pool JDBC?",o:["Tiempo mÃ¡ximo de espera para obtener conexiÃ³n","Tiempo tras el cual una conexiÃ³n inactiva (leaked) se cierra","Tiempo de expiraciÃ³n de transacciones","Tiempo de reconnect tras fallo de BD","Intervalo de prueba de conexiones"]},
    84:{q:"Â¿CÃ³mo se configuran polÃ­ticas de seguridad para URLs en WebLogic?",o:["Solo en web.xml","En web.xml, weblogic.xml o mediante la Consola","Solo mediante la Consola","Solo en deployment plan","En config.xml del dominio"]},
    85:{q:"Â¿QuÃ© es el modo de despliegue 'external_stage'?",o:["Despliegue desde servidor externo","El admin copia archivos al stage; el servidor los usa desde allÃ­ sin copiarlos","Despliegue desde repositorio externo","Modo para despliegues entre dominios","Despliegue con validaciÃ³n externa previa"]},
    86:{q:"Â¿QuÃ© es el Cluster Messaging y cuÃ¡ndo elegir unicast vs. multicast?",o:["ComunicaciÃ³n entre servidores; multicast es mÃ¡s fÃ¡cil, unicast es el predeterminado en 10.3.6+","Protocolo de replicaciÃ³n de sesiones; son idÃ©nticos","Sistema de colas JMS del clÃºster; multicast requiere hardware especial","SincronizaciÃ³n de configuraciÃ³n; unicast solo funciona en LAN","MensajerÃ­a entre aplicaciones; multicast es obligatorio en producciÃ³n"]},
    87:{q:"Â¿QuÃ© son los Work Managers en WebLogic?",o:["Gestores de tareas programadas","Mecanismo para priorizar y gestionar threads de trabajo segÃºn reglas de negocio","Administradores de dominios","Gestores de pool de conexiones","Sistema de monitorizaciÃ³n de carga"]},
    88:{q:"Â¿Para quÃ© sirve el archivo nodemanager.properties?",o:["Configurar propiedades del servidor administrado","Configurar el comportamiento de Node Manager: puertos, SSL, scripts, timeouts","Definir la topologÃ­a del dominio","Configurar el Admin Server","Especificar ubicaciÃ³n de logs"]},
    89:{q:"Â¿QuÃ© es el Test Connections on Reserve en un pool JDBC?",o:["Prueba todas las conexiones al arrancar","Prueba la conexiÃ³n antes de dÃ¡rsela a la aplicaciÃ³n para asegurar que es vÃ¡lida","Reserva conexiones para pruebas de carga","Monitoriza conexiones en segundo plano","Prueba automÃ¡tica tras fallo de base de datos"]},
    90:{q:"Â¿Dos ventajas de SCAN al configurar GridLink?",o:["PatrÃ³n FCF que permite detecciÃ³n rÃ¡pida de fallos","Se usa RLCB mÃ¡s sofisticado; sin SCAN revierte a round-robin","SCAN requerido para GridLink con driver XA","URL de base de datos mÃ¡s corta: un SCAN vs host:puerto por nodo RAC","Config del origen no necesita actualizarse al aÃ±adir nodos RAC"]},
    91:{q:"Apps accederÃ¡n a clÃºster de BDs redundantes (proveedor no Oracle). Â¿QuÃ© tipo de origen de datos?",o:["Origen de datos genÃ©rico","Origen de datos multi","Origen de datos GridLink","Origen de datos paralelo"]},
    92:{q:"Â¿Dos formas de iniciar Java Node Manager en Linux?",o:["Usar script startNodeManager.sh","Usar consola, seleccionar mÃ¡quina y clic en Start","Hacer que NM arranque como daemon al inicio","Usar Oracle OPMN","Establecer entorno y ejecutar JVM con nodemanager.RunTime"]},
    93:{q:"App envÃ­a SQL, hoy muy lenta. Thread dump muestra operaciones de socket. Â¿SuposiciÃ³n inicial?",o:["Capacidad mÃ¡xima alcanzada","Datos de respuesta mÃ¡s grandes que buffer, aumentar buffer","Actividad en la BD, consultar al DBA","ConexiÃ³n del datasource con leak","Firewall bloqueando","JDBC de Oracle corrupto, reinstalar"]},
    94:{q:"Fragmento: <persistent-store-type>replicated</persistent-store-type>. Â¿De quÃ© archivo?",o:["weblogic-application.xml","session.xml","web.xml","config.xml","weblogic.xml"]},
    95:{q:"Admin caÃ­do. Servidor administrado no arranca con script. Â¿Por quÃ©?",o:["El servidor tiene deshabilitado el modo de Independencia del Servidor Administrado","Los servidores administrados siempre contactan al admin para Ãºltima configuraciÃ³n","El servidor debe ser parte de clÃºster y el master estÃ¡ caÃ­do","El servidor debe residir en la misma mÃ¡quina que el admin","El dominio usa LDAP integrado, el servidor no puede obtener actualizaciones"]},
    96:{q:"Java Node Manager no puede iniciar myserver. boot.properties corrupto. Â¿DÃ³nde estÃ¡ el archivo?",o:["Bajo el dominio en servers/myserver/nodemanager","Bajo el directorio home de NM en myserver","Bajo el dominio en servers/myserver/security","Bajo el dominio en servers/myserver/data/nodemanager","Bajo el directorio home de NM"]},
    97:{q:"Escalar a nueva mÃ¡quina. Instalar WebLogic. Â¿Tres pasos para crear directorio de dominio?",o:["Usar Asistente para clonar dominio","Ejecutar pack en mÃ¡quina admin","Transferir certificado de instalaciÃ³n a mÃ¡quina admin","Transferir plantilla de servidor a nueva mÃ¡quina","Usar Consola para clonar servidor admin","Ejecutar unpack en nueva mÃ¡quina"]},
    98:{q:"Desarrolladores crearon POJOs en JAR. Hacerlo accesible desde todas las apps. Â¿Cuatro formas?",o:["Incluir JAR como paquete opcional","Desplegar JAR como EJB","Desplegar JAR como librerÃ­a compartida","Colocar JAR en carpeta lib del dominio","Desplegar JAR en admin","AÃ±adir JAR al CLASSPATH editando setDomainEnv.sh","Desplegar JAR como otra app web","Desplegar JAR como servicio web"]},
    99:{q:"Archivos admin restaurados desde backup. Script falla: 'permission denied'. Â¿CÃ³mo resolver?",o:["Verificar propiedad y permisos del script de inicio","Asegurarse de iniciar sesiÃ³n como admin de WebLogic","Detener servidores administrados y luego iniciar admin","DespuÃ©s de restauraciÃ³n, iniciar admin con WLST","Iniciar admin como usuario root"]},
    100:{q:"Â¿Tres tareas de la Consola que requieren bloqueo de configuraciÃ³n en producciÃ³n?",o:["Detener despliegue de aplicaciÃ³n","Crear nuevo origen de datos JDBC","Cambiar puerto de escucha del servidor","Suspender servidor en ejecuciÃ³n","AÃ±adir servidor a clÃºster existente","Crear nuevo usuario administrativo"]},
    101:{q:"App con web y EJB. Â¿Dos beneficios de multitier vs. single-tier?",o:["Los clÃºsteres dinÃ¡micos solo se soportan en multitier","El acceso remoto a EJB estÃ¡ bloqueado","Cada clÃºster puede escalarse independientemente","Futuros clÃºsteres web pueden compartir el mismo tier EJB","Todos los servidores pueden gestionarse juntos"]},
    102:{q:"Origen de datos con Inactive Timeout de 60s. Sospechas que la app no devuelve conexiones. Â¿QuÃ© columna lo confirma?",o:["State","Active Connections Current Count","Connection Delay Time","Leaked Connection Count","Current Capacity"]},
    103:{q:"JVM 64-bit. USER_MEM_ARGS='-Xms32meg â€“Xmx150meg'. Al arrancar falla: 'Invalid initial heap size'. Â¿Por quÃ©?",o:["El heap mÃ­nimo para 64-bit es 64 Megabytes","Por rendimiento, mÃ­nimo y mÃ¡ximo deberÃ­an ser iguales","ParÃ¡metro incorrecto. Correcto: '-Xms32m â€“Xmx150m'","Hay que introducir valores en Kilobytes","ParÃ¡metro incorrecto. Correcto: '-Xms:32meg â€“ Xmx:150meg'"]},
    104:{q:"Nuevo servidor necesita almacÃ©n JDBC con mensajes JMS. Â¿Dos requisitos de configuraciÃ³n?",o:["En Persistent Stores, crear JDBC store y seleccionar 'Usar almacÃ©n existente'","Nuevo nombre de dominio igual al anterior","Duplicar config JMS y persistent store en nuevo dominio","Almacenamiento debe ser basado en archivo, no JDBC","Establecer prefijo de tabla JDBC store al nombre del dominio"]},
    105:{q:"Iniciar servidor administrado. Falla con 'boot identity not valid'. Â¿QuÃ© hacer?",o:["AÃ±adir opciÃ³n para iniciar sin credenciales","Actualizar credenciales en boot identity file","Actualizar credenciales en script de inicio","Crear boot identity con consola admin","El archivo boot identity no existe. Crear uno."]},
    106:{q:"Instalar WebLogic para desarrollo, pruebas y producciÃ³n con diferentes requisitos. Â¿CÃ³mo implementar?",o:["Crear un dominio con tres clÃºsteres","Crear un dominio con tres admin servers","Crear un dominio con tres servidores administrados","Crear tres dominios"]},
    107:{q:"Dominio incluye home de NM. Â¿Dos escenarios donde no es necesario nmEnroll()?",o:["NM en mÃ¡quina donde se creÃ³ el dominio con el Asistente","Crear plantilla con pack, luego crear dominio con unpack en nueva mÃ¡quina","Usar consola: seleccionar mÃ¡quina, Config y pestaÃ±a NM","Usar script enrollNodeManager.sh"]},
    108:{q:"Asistente de ConfiguraciÃ³n tiene opciÃ³n de Node Manager. Â¿Dos afirmaciones verdaderas?",o:["Hay que introducir usuario y contraseÃ±a para acceder a NM","Se puede elegir la ubicaciÃ³n del home de NM","Se puede seleccionar NM basado en Java o en script","Tras el Asistente, inicia automÃ¡ticamente el NM configurado"]},
    109:{q:"Los logs aumentaron a 500 MB. Â¿Tres tÃ©cnicas para reducir tamaÃ±o?",o:["Aumentar nivel de severidad","Redirigir salida estÃ¡ndar al log","Aumentar tiempo de rotaciÃ³n","Crear y usar filtro de log personalizado","Disminuir tamaÃ±o del archivo de rotaciÃ³n"]},
    110:{q:"Usando LDAP Integrado de Oracle WebLogic. Â¿Tres afirmaciones verdaderas?",o:["El LDAP integrado puede ser accedido por visores LDAP externos","El LDAP integrado no puede usarse en producciÃ³n","El LDAP integrado usa sistema de archivos para almacenar datos de seguridad","El LDAP integrado usa base de datos","El LDAP integrado puede almacenar usuarios, grupos, roles y polÃ­ticas de seguridad"]},
    111:{q:"Redesplegar WAR. Usuarios actuales acceden al anterior, nuevos al nuevo. Â¿Por quÃ©?",o:["Solo posible si desplegado en clÃºster","Posible si tiene versiones usando Production Redeployment","No es posible. Al redesplegar, reemplaza el anterior","No es posible. Todos continÃºan con el anterior hasta salir"]},
    112:{q:"App desplegada en 12c con nombre diferente al esperado. Â¿QuÃ© mÃ©todo tiene precedencia?",o:["Definir nombre en manifest de la librerÃ­a","Configurar <module-name> en web.xml","Ejecutar weblogic.Deployer con â€“name","Nombre computado basado en archivo fuente","Elemento <application-name> en application.xml"]},
    113:{q:"App Java EE usa origen de datos JDBC. Â¿Tres pasos que el desarrollador normalmente escribe?",o:["Probar conexiÃ³n para verificar disponibilidad de la BD","AÃ±adir nueva conexiÃ³n si no hay disponibles","Cerrar conexiÃ³n para devolverla al pool","Solicitar conexiÃ³n del origen de datos","Buscar origen de datos usando nombre JNDI"]},
    114:{q:"Â¿Dos afirmaciones verdaderas sobre el rol de WebLogic en gestiÃ³n de transacciones?",o:["Puedes configurar propiedades JTA a nivel de dominio, clÃºster y servidor","WebLogic puede actuar como gestor de transacciones para mÃºltiples recursos en transacciÃ³n distribuida","WebLogic soporta work managers transaccionales","A partir de 12c, se pueden crear clÃºsteres 'estÃ¡ndar' y 'transaccional'","WebLogic soporta Enterprise Java Beans transaccionales"]},
    115:{q:"Â¿Dos caracterÃ­sticas del Reconfiguration Wizard?",o:["Puede actualizar cualquier dominio creado con WLS 9.2 y superior","Permite cambiar el modo del dominio","Permite seleccionar diferente JDK Java","No permite reconfigurar orÃ­genes de datos JDBC","Solo puede actualizar dominios con WLS 10.3.x o posterior"]},
    116:{q:"Crear nuevo dominio sin configurar Listen Address para admin. Â¿QuÃ© resultado?",o:["El servidor falla al arrancar","El servidor se vincula a localhost","El servidor solicita direcciÃ³n al primer arranque","El servidor intenta vincularse a todas las interfaces de red del SO"]},
    117:{q:"Configurar proveedor LDAP. Â¿Tres datos necesarios del administrador LDAP?",o:["Atributo de nombre para objetos de usuario","TamaÃ±o mÃ¡ximo del pool de conexiones","DN base para objetos de grupo","Nombre del realm","Nombre de host y puerto"]},
    118:{q:"Â¿Tres capacidades de proveedores LDAP no predeterminados en WebLogic?",o:["AÃ±adir usuario a grupo","Crear nuevo grupo","Cambiar contraseÃ±a del usuario","Validar contraseÃ±a del usuario","Crear nuevo usuario","Identificar grupos del usuario"]},
    119:{q:"Nuevo dominio con app EJB. Proxy entre clientes y clÃºster. Â¿QuÃ© atributo del clÃºster modificar?",o:["Messaging Mode","Cluster Address","Broadcast Channel","Replication Channel","Cluster Type"]},
    120:{q:"Un miembro del clÃºster recibe mucho menos carga. Â¿QuÃ© mÃ©trica de la Consola examinar para determinar si es problema de red?",o:["Primary session count","Drop out frequency","Migration basis","Health state","Current heap size"]},
    121:{q:"Â¿Dos afirmaciones verdaderas sobre Log Filters?",o:["No necesitas bloquear configuraciÃ³n para crear Log Filters","Los Log Filters se crean a nivel de dominio","La consola admin ayuda a crear expresiones de Log Filter","Puedes aplicar Log Filter al log del servidor, pero no a la salida estÃ¡ndar"]},
    122:{q:"Â¿Dos afirmaciones verdaderas comparando Admin Server con Managed Server?",o:["Admin Server gestiona la configuraciÃ³n del dominio","El dominio debe tener al menos uno de cada tipo","Admin Server mantiene log del dominio, servidor administrado no","Servidor administrado mantiene log del servidor, Admin Server no","Apps Java EE solo se despliegan en servidores administrados"]},
    123:{q:"Editado setDomainEnv.sh en nodo del admin aÃ±adiendo JAR al CLASSPATH. Solo apps de un servidor acceden al JAR. Â¿Por quÃ©?",o:["Debes establecer atributo 'CLASSPATH Discovery Enabled'","Cada mÃ¡quina tiene sus propios directorios de dominio. El script debe modificarse allÃ­ tambiÃ©n","Solo el primer servidor en recibir nueva config del admin obtiene CLASSPATH actualizado","CLASSPATH es para cÃ³digo interno de WebLogic, no para apps"]},
    124:{q:"Current Capacity = 10, Current Capacity High Count = 20. Â¿Dos explicaciones plausibles?",o:["La carga de trabajo era menor que ahora","El tamaÃ±o del cache de sentencias es 20","El tamaÃ±o del pool ha aumentado","El tamaÃ±o del cache de sentencias es 10","El tamaÃ±o del pool ha disminuido","La carga de trabajo era mayor que ahora"]},
    125:{q:"ClÃºster de cuatro servidores. SesiÃ³n en ServerA replicada en ServerC. ServerA falla. Â¿A quÃ© servidor se redirige el usuario?",o:["ServerD","ServerB","Ninguno; el usuario recibirÃ¡ error","ServerC","Cualquier otro servidor disponible"]},
    126:{q:"Crear clÃºster dinÃ¡mico. Â¿Tres configuraciones soportadas para distribuir servidores?",o:["Usar todas las mÃ¡quinas del dominio","Usar mÃ¡quinas cuyo nombre coincida con expresiÃ³n","Usar porcentaje de mÃ¡quinas del dominio","Usar todas las mÃ¡quinas en subred","Usar una sola mÃ¡quina"]},
    127:{q:"Dominio con Machine Name Match Expression='host1*'. Â¿QuÃ© mÃ¡quinas se usarÃ¡n (host01, host02, host11, host12)?",o:["host01 y host11 Ãºnicamente","host11 y host12 Ãºnicamente","host11 Ãºnicamente","todas las mÃ¡quinas","la mÃ¡quina predeterminada del dominio","host01 Ãºnicamente"]}
  };
  if(!T[questionNum])return type==='question'?'':[];
  if(type==='question')return T[questionNum].q||'';
  else if(type==='option')return T[questionNum].o||[];
  return'';
}

function selectOption(index){
  const question=questions[currentQuestion];
  const questionId=question.number;
  if(checkedQuestions[questionId])return;
  
  const isMultiple=question.correct.length>1;
  if(!answers[questionId])answers[questionId]=[];
  
  if(isMultiple){
    const answerIndex=answers[questionId].indexOf(index);
    if(answerIndex>-1)answers[questionId].splice(answerIndex,1);
    else answers[questionId].push(index);
  }else{
    answers[questionId]=[index];
  }
  
  loadQuestion();
}

function _baseCheckanswer(){
  const question=questions[currentQuestion];
  const questionId=question.number;
  const userAnswer=answers[questionId];
  
  if(!userAnswer||userAnswer.length===0)return;
  
  checkedQuestions[questionId]=true;
  
  const isCorrect=userAnswer.length===question.correct.length&&userAnswer.every(ans=>question.correct.includes(ans));
  if(isCorrect)correctCount++;
  else incorrectCount++;
  
  loadQuestion();
}

function _baseNextQuestionV12(){
  if(currentQuestion===questions.length-1)showResults();
  else{currentQuestion++;loadQuestion();}
}

function previousQuestion(){
  if(currentQuestion>0){currentQuestion--;loadQuestion();}
}

function updateProgress(){
  const progress=((currentQuestion+1)/questions.length)*100;
  document.getElementById('progressFill').style.width=progress+'%';
}

function _baseShowresults(){
  const percentage=Math.round((correctCount/questions.length)*100);
  let message='',emoji='';
  if(percentage>=90){message='Â¡Excelente! Dominas el material.';emoji='ğŸ†';}
  else if(percentage>=70){message='Â¡Buen trabajo! Sigue estudiando.';emoji='ğŸ‘';}
  else if(percentage>=50){message='Bien, pero necesitas mÃ¡s prÃ¡ctica.';emoji='ğŸ“š';}
  else{message='Sigue estudiando. Â¡TÃº puedes!';emoji='ğŸ’ª';}
  
  const html=`<div class="final-results"><div style="font-size:64px;margin-bottom:20px;">${emoji}</div><h2>Resultados Finales</h2><div class="final-score">${correctCount} / ${questions.length}</div><div style="font-size:32px;color:#667eea;margin:20px 0;">${percentage}%</div><p style="font-size:18px;color:#666;margin-bottom:30px;">${message}</p><div style="display:flex;justify-content:center;gap:30px;margin:30px 0;"><div><div style="color:#10b981;font-size:36px;font-weight:bold;">${correctCount}</div><div style="color:#666;">Correctas</div></div><div><div style="color:#ef4444;font-size:36px;font-weight:bold;">${incorrectCount}</div><div style="color:#666;">Incorrectas</div></div><div><div style="color:#6b7280;font-size:36px;font-weight:bold;">${questions.length-correctCount-incorrectCount}</div><div style="color:#666;">Sin responder</div></div></div><button class="restart-btn" onclick="restartQuiz()">ğŸ”„ Reiniciar Quiz</button><button class="restart-btn" onclick="location.reload()" style="background:#6b7280;margin-left:10px">âš™ï¸ Nueva ConfiguraciÃ³n</button></div>`;
  
  document.getElementById('quizContent').innerHTML=html;
  document.getElementById('progressFill').style.width='100%';
  
  // Limpiar progreso guardado al terminar
  localStorage.removeItem('oracleQuizProgress');
}

function restartQuiz(){
  currentQuestion=0;
  answers={};
  checkedQuestions={};
  correctCount=0;
  incorrectCount=0;
  localStorage.removeItem('oracleQuizProgress');
  loadQuestion();
}

// ==========================================
// NUEVAS FUNCIONALIDADES INTEGRADAS
// ==========================================
let quizMode='practice',examMode=false,timerInterval=null,startTime=null;
let currentStreak=0,bookmarkedQuestions=new Set(),historicallyIncorrect=new Set();
const shownAchievements=new Set();

function toggleDarkMode(){
  document.body.classList.toggle('dark-mode');
  const b=document.querySelector('.dark-mode-toggle');
  if(b)b.textContent=document.body.classList.contains('dark-mode')?'â˜€ï¸ Modo Claro':'ğŸŒ™ Modo Oscuro';
  localStorage.setItem('darkMode',document.body.classList.contains('dark-mode'));
}

function selectMode(mode,e){
  document.querySelectorAll('.mode-btn').forEach(b=>b.classList.remove('selected'));
  e.currentTarget.classList.add('selected');quizMode=mode;
}

function startTimer(){
  startTime=Date.now();
  timerInterval=setInterval(()=>{
    const e=Math.floor((Date.now()-startTime)/1000);
    const h=Math.floor(e/3600),m=Math.floor((e%3600)/60),s=e%60;
    const td=document.getElementById('timerDisplay');
    if(td)td.textContent='â±ï¸ '+String(h).padStart(2,'0')+':'+String(m).padStart(2,'0')+':'+String(s).padStart(2,'0');
  },1000);
}

function stopTimer(){clearInterval(timerInterval);return startTime?Math.floor((Date.now()-startTime)/1000):0;}

function loadHistoricalData(){
  const s=localStorage.getItem('oracleQuizHistory');
  if(s){const d=JSON.parse(s);historicallyIncorrect=new Set(d.incorrect||[]);bookmarkedQuestions=new Set(d.bookmarked||[]);}
}

function saveHistoricalData(){
  localStorage.setItem('oracleQuizHistory',JSON.stringify({incorrect:Array.from(historicallyIncorrect),bookmarked:Array.from(bookmarkedQuestions)}));
}

function getAttemptHistory(){const s=localStorage.getItem('oracleQuizAttempts');return s?JSON.parse(s):[];}

function saveAttempt(score,total,time){
  const a=getAttemptHistory();
  a.push({date:new Date().toISOString(),score,total,percentage:Math.round((score/total)*100),timeSpent:time});
  localStorage.setItem('oracleQuizAttempts',JSON.stringify(a));
}

function saveNote(qNum){
  const text=document.getElementById('note-'+qNum)?.value||'';
  const notes=JSON.parse(localStorage.getItem('oracleQuizNotes')||'{}');
  notes[qNum]=text;localStorage.setItem('oracleQuizNotes',JSON.stringify(notes));
  showPopup('ğŸ“ Nota guardada','Tu apunte se guardÃ³ correctamente');
}

function getNote(qNum){return JSON.parse(localStorage.getItem('oracleQuizNotes')||'{}')[qNum]||'';}

function updateDifficulty(qNum,ok){
  const h=JSON.parse(localStorage.getItem('oracleQuizDifficulty')||'{}');
  if(!h[qNum])h[qNum]={correct:0,total:0};
  h[qNum].total++;if(ok)h[qNum].correct++;
  localStorage.setItem('oracleQuizDifficulty',JSON.stringify(h));
}

function getDifficultyBadge(qNum){
  const d=JSON.parse(localStorage.getItem('oracleQuizDifficulty')||'{}')[qNum];if(!d)return'';
  const r=d.correct/d.total;
  if(r>=0.7)return'<span style="padding:2px 8px;border-radius:10px;font-size:10px;font-weight:700;background:#d1fae5;color:#065f46;margin-left:8px">ğŸŸ¢ FÃ¡cil</span>';
  if(r>=0.4)return'<span style="padding:2px 8px;border-radius:10px;font-size:10px;font-weight:700;background:#fef3c7;color:#92400e;margin-left:8px">ğŸŸ¡ Media</span>';
  return'<span style="padding:2px 8px;border-radius:10px;font-size:10px;font-weight:700;background:#fee2e2;color:#991b1b;margin-left:8px">ğŸ”´ DifÃ­cil</span>';
}

const ACHIEVEMENTS=[
  {id:'f1',icon:'ğŸ¥‡',title:'Â¡Primera Correcta!',desc:'Respondiste tu primera pregunta correctamente',check:(c,i,s)=>c===1&&i===0},
  {id:'s5',icon:'ğŸ”¥',title:'Â¡En Racha!',desc:'5 respuestas correctas seguidas',check:(c,i,s)=>s===5},
  {id:'s10',icon:'ğŸ’¥',title:'Â¡Imparable!',desc:'10 respuestas correctas seguidas',check:(c,i,s)=>s===10},
  {id:'p10',icon:'ğŸ’¯',title:'Â¡Perfecto!',desc:'10 correctas sin ningÃºn error',check:(c,i,s)=>c===10&&i===0},
];

function checkAchievements(ok){
  if(ok)currentStreak++;else currentStreak=0;
  ACHIEVEMENTS.forEach(a=>{
    if(!shownAchievements.has(a.id)&&a.check(correctCount,incorrectCount,currentStreak)){
      shownAchievements.add(a.id);showPopup(a.icon+' '+a.title,a.desc);
    }
  });
}

function showPopup(title,desc){
  const old=document.querySelector('.ach-popup');if(old)old.remove();
  const p=document.createElement('div');p.className='ach-popup';
  p.style.cssText='position:fixed;top:20px;right:20px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;padding:15px 20px;border-radius:12px;box-shadow:0 8px 25px rgba(0,0,0,0.3);z-index:9999;max-width:280px';
  p.innerHTML='<strong style="display:block;margin-bottom:4px">'+title+'</strong><span style="font-size:12px;opacity:0.9">'+desc+'</span>';
  document.body.appendChild(p);
  setTimeout(()=>{p.style.transition='opacity 0.5s';p.style.opacity='0';setTimeout(()=>p.remove(),500);},3000);
}

function getMotivation(){
  const msgs=['ğŸ’ª Â¡TÃº puedes! Cada pregunta te acerca a tu certificaciÃ³n.','ğŸš€ El Ã©xito estÃ¡ en la prÃ¡ctica constante.','ğŸ§  Entender es mejor que memorizar.','âš¡ Â¡La certificaciÃ³n Oracle 1z0-133 te espera!','ğŸ¯ Â¡Cada error es una oportunidad de aprender!'];
  const a=getAttemptHistory();
  const days=a.length>0?Math.floor((Date.now()-new Date(a[0].date))/(86400000))+1:1;
  return'<div style="padding:10px 15px;border-radius:10px;margin-bottom:15px;text-align:center;font-weight:600;font-size:13px;background:#f0f4ff;color:#667eea;border:1px solid #c7d2fe">'+msgs[Math.floor(Math.random()*msgs.length)]+' | ğŸ“… DÃ­a '+days+' de estudio</div>';
}

function toggleBookmark(qNum){
  if(bookmarkedQuestions.has(qNum))bookmarkedQuestions.delete(qNum);
  else bookmarkedQuestions.add(qNum);
  saveHistoricalData();loadQuestion();
}

function getProgressChart(){
  const a=getAttemptHistory();
  if(a.length<2)return'<p style="color:#888;padding:20px;text-align:center">Necesitas al menos 2 intentos para ver la grÃ¡fica ğŸ“ˆ</p>';
  const last=a.slice(-10);const bw=Math.min(45,Math.floor(500/last.length));
  let bars='',labels='';
  last.forEach(x=>{
    const h=Math.round((x.percentage/100)*140);
    const c=x.percentage>=70?'#10b981':x.percentage>=50?'#f59e0b':'#ef4444';
    bars+='<div style="display:inline-block;height:'+h+'px;width:'+bw+'px;background:'+c+';border-radius:4px 4px 0 0;margin:0 3px;vertical-align:bottom" title="'+x.percentage+'%"></div>';
    labels+='<span style="display:inline-block;width:'+(bw+6)+'px;text-align:center;font-size:10px;color:#888">'+x.percentage+'%</span>';
  });
  return'<div style="width:100%;margin:15px 0"><div style="display:flex;align-items:flex-end;justify-content:center;height:150px;border-bottom:2px solid #e0e0e0;padding:0 10px">'+bars+'</div><div style="text-align:center;margin-top:5px">'+labels+'</div></div>';
}

function quickReview(){
  loadHistoricalData();
  const list=Array.from(historicallyIncorrect);
  if(list.length===0){alert('ğŸ‰ Â¡No tienes preguntas incorrectas! Â¡Excelente!');return;}
  let html='<div style="padding:30px"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"><h2 style="color:#667eea">ğŸ¯ Repaso RÃ¡pido</h2><button onclick="location.reload()" style="padding:10px 20px;background:#667eea;color:white;border:none;border-radius:8px;cursor:pointer;font-weight:600">â† Volver</button></div><p style="color:#888;margin-bottom:20px">Tienes <strong>'+list.length+'</strong> preguntas incorrectas para repasar:</p>';
  list.forEach(n=>{
    const q=allQuestions.find(x=>x.number===n);if(!q)return;
    const ans=q.correct.map(i=>'<strong>'+String.fromCharCode(65+i)+')</strong> '+q.options[i]).join('<br>');
    html+='<div style="padding:20px;border-radius:12px;margin-bottom:15px;border-left:5px solid #ef4444;background:#fff5f5"><div style="font-size:14px;font-weight:600;margin-bottom:10px">P'+q.number+': '+q.text+'</div><div style="font-size:13px;color:#10b981;font-weight:600">âœ… Respuesta correcta:<br>'+ans+'</div></div>';
  });
  html+='</div>';
  document.getElementById('configPanel').classList.add('hidden');
  document.getElementById('progressBar').classList.add('hidden');
  document.getElementById('quizContent').classList.remove('hidden');
  document.getElementById('quizContent').innerHTML=html;
}

function viewStats(){
  loadHistoricalData();
  const a=getAttemptHistory();
  if(a.length===0){alert('ğŸ“Š AÃºn no tienes intentos. Â¡Completa tu primer quiz!');return;}
  const avg=Math.round(a.reduce((s,x)=>s+x.percentage,0)/a.length);
  const best=Math.max(...a.map(x=>x.percentage));
  const worst=Math.min(...a.map(x=>x.percentage));
  let html='<div style="padding:40px;text-align:center"><h2 style="color:#667eea;margin-bottom:20px">ğŸ“Š EstadÃ­sticas HistÃ³ricas</h2><div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:12px;margin-bottom:20px">';
  [['#667eea',a.length,'Intentos'],['#667eea',avg+'%','Promedio'],['#10b981',best+'%','Mejor'],['#ef4444',worst+'%','Peor'],['#f59e0b',historicallyIncorrect.size,'DifÃ­ciles'],['#8b5cf6',bookmarkedQuestions.size,'Marcadas']].forEach(([c,v,l])=>{
    html+='<div style="padding:15px;border-radius:10px;background:#f8f9ff"><div style="font-size:26px;font-weight:bold;color:'+c+'">'+v+'</div><div style="font-size:12px;color:#666">'+l+'</div></div>';
  });
  html+='</div><h3 style="margin:10px 0;color:#667eea">ğŸ“ˆ EvoluciÃ³n de Puntuaciones</h3>'+getProgressChart()+'<h3 style="margin:15px 0 10px;color:#667eea">Ãšltimos 5 Intentos</h3>';
  a.slice(-5).reverse().forEach((x,i)=>{
    const c=x.percentage>=70?'#10b981':x.percentage>=50?'#f59e0b':'#ef4444';
    html+='<div style="padding:12px 15px;margin:6px 0;background:#f8f9ff;border-radius:8px;display:flex;justify-content:space-between;align-items:center"><span><strong>Intento '+(a.length-i)+'</strong> Â· '+new Date(x.date).toLocaleDateString()+'</span><span style="color:'+c+';font-weight:bold;font-size:16px">'+x.percentage+'% ('+x.score+'/'+x.total+')</span></div>';
  });
  html+='<div style="display:flex;gap:10px;justify-content:center;margin-top:25px;flex-wrap:wrap"><button onclick="location.reload()" style="padding:12px 25px;background:#6b7280;color:white;border:none;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer">â† Volver</button><button onclick="quickReview()" style="padding:12px 25px;background:#f59e0b;color:white;border:none;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer">ğŸ¯ Repaso RÃ¡pido</button><button onclick="exportResults()" style="padding:12px 25px;background:#3b82f6;color:white;border:none;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer">ğŸ“„ Exportar</button></div></div>';
  document.getElementById('configPanel').classList.add('hidden');
  document.getElementById('progressBar').classList.add('hidden');
  document.getElementById('quizContent').classList.remove('hidden');
  document.getElementById('quizContent').innerHTML=html;
}

function exportResults(){
  const a=getAttemptHistory();
  let t='ORACLE 1Z0-133 - HISTORIAL DE RESULTADOS\n===========================================\n\n';
  a.forEach((x,i)=>{t+='Intento '+(i+1)+': '+new Date(x.date).toLocaleString()+'\nPuntuaciÃ³n: '+x.score+'/'+x.total+' ('+x.percentage+'%)\n\n';});
  const blob=new Blob([t],{type:'text/plain'});
  const url=URL.createObjectURL(blob);
  const el=document.createElement('a');el.href=url;el.download='oracle-quiz-resultados.txt';el.click();
}

// HOOKS - se ejecutan DESPUÃ‰S de las funciones originales

function startQuiz(cont){
  loadHistoricalData();
  examMode=(quizMode==='exam');
  _baseStartQuiz(cont);

  // Aplicar filtros especiales despuÃ©s de cargar preguntas del rango
  const onlyIncorrect=document.getElementById('onlyIncorrect')?.checked||false;
  const onlyBookmarked=document.getElementById('onlyBookmarked')?.checked||false;
  if(onlyIncorrect){
    questions=questions.filter(q=>historicallyIncorrect.has(q.number));
    if(questions.length===0){alert('ğŸ‰ Â¡No tienes preguntas incorrectas! Â¡Excelente!');location.reload();return;}
  }
  if(onlyBookmarked){
    questions=questions.filter(q=>bookmarkedQuestions.has(q.number));
    if(questions.length===0){alert('ğŸ“Œ No has marcado ninguna pregunta todavÃ­a.');location.reload();return;}
  }

  if(examMode){const td=document.getElementById('timerDisplay');if(td){td.classList.remove('hidden');startTimer();}}
  currentQuestion=0;
  loadQuestion();
}


function loadQuestion(){
  _baseLoadquestion();
  const q=questions[currentQuestion];if(!q)return;
  const qc=document.getElementById('quizContent');
  const qn=qc.querySelector('.question-number');
  if(qn){
    qn.innerHTML+=getDifficultyBadge(q.number);
    const bm=bookmarkedQuestions.has(q.number);
    const bmBtn=document.createElement('button');
    bmBtn.style.cssText='background:'+(bm?'#10b981':'#fbbf24')+';color:'+(bm?'white':'#1a1a1a')+';border:none;padding:4px 10px;border-radius:6px;cursor:pointer;font-size:11px;font-weight:600;margin-left:8px';
    bmBtn.textContent=bm?'â­ Marcada':'ğŸ“Œ Marcar';
    bmBtn.onclick=()=>toggleBookmark(q.number);
    qn.appendChild(bmBtn);
  }
  if(currentQuestion===0){const sb=qc.querySelector('.score-board');if(sb)sb.insertAdjacentHTML('beforebegin',getMotivation());}
  if(examMode){
    const sb=qc.querySelector('.score-board');
    if(sb)sb.insertAdjacentHTML('beforebegin','<div style="background:#fef3c7;border:2px solid #f59e0b;color:#92400e;padding:12px;border-radius:10px;text-align:center;font-weight:600;margin-bottom:15px">ğŸ¯ MODO EXAMEN: Puedes revisar preguntas anteriores ya respondidas, pero no cambiar las respuestas verificadas</div>');
    const pb=qc.querySelector('.btn-prev');
    if(pb){
      // Solo permitir retroceder si hay preguntas anteriores ya respondidas o verificadas
      const canGoBack=currentQuestion>0;
      pb.disabled=!canGoBack;
      if(canGoBack){
        pb.style.background='#6b7280';
        pb.title='Volver a revisar pregunta anterior';
      }
    }
  }
  const ctrl=qc.querySelector('.controls');
  if(ctrl){
    const note=getNote(q.number);
    ctrl.insertAdjacentHTML('beforebegin','<div style="margin-top:15px;padding:15px;border-radius:10px;border:2px dashed #667eea;background:#f8f9ff"><div style="font-size:12px;font-weight:600;color:#667eea;margin-bottom:6px">ğŸ“ Mi Nota Personal:</div><textarea id="note-'+q.number+'" style="width:100%;padding:8px;border:1px solid #e0e0e0;border-radius:6px;font-size:12px;resize:vertical;min-height:50px;font-family:inherit" placeholder="Escribe tus apuntes sobre esta pregunta...">'+note+'</textarea><button onclick="saveNote('+q.number+')" style="background:#667eea;color:white;border:none;padding:5px 12px;border-radius:6px;cursor:pointer;font-size:12px;margin-top:5px">ğŸ’¾ Guardar Nota</button></div>');
  }
}


function _baseCheckAnswerV12(){
  const q=questions[currentQuestion];
  const ua=answers[q.number];if(!ua||ua.length===0)return;
  const ok=ua.length===q.correct.length&&ua.every(a=>q.correct.includes(a));
  _baseCheckanswer();
  updateDifficulty(q.number,ok);checkAchievements(ok);
  if(ok)historicallyIncorrect.delete(q.number);else historicallyIncorrect.add(q.number);
  saveHistoricalData();
}


function _baseShowResultsV12(){
  const t=examMode?stopTimer():0;
  _baseShowresults();
  saveAttempt(correctCount,questions.length,t);
  if(examMode){const td=document.getElementById('timerDisplay');if(td)td.classList.add('hidden');}
  const fr=document.querySelector('.final-results');
  if(fr){
    if(t>0){const td=document.createElement('div');td.style.cssText='font-size:18px;color:#667eea;margin:10px 0';td.innerHTML='â±ï¸ Tiempo: '+Math.floor(t/60)+':'+String(t%60).padStart(2,'0');const fs=fr.querySelector('.final-score');if(fs)fs.insertAdjacentElement('afterend',td);}
    if(historicallyIncorrect.size>0){const btn=document.createElement('button');btn.style.cssText='background:#f59e0b;color:white;border:none;padding:12px 25px;border-radius:10px;font-size:15px;font-weight:600;cursor:pointer;margin-top:10px;display:block;margin-left:auto;margin-right:auto';btn.innerHTML='ğŸ¯ Repasar '+historicallyIncorrect.size+' Incorrectas';btn.onclick=quickReview;fr.appendChild(btn);}
  }
}



// Cargar progreso al iniciar si existe
window.addEventListener('load',()=>{
  loadHistoricalData();
  if(localStorage.getItem('darkMode')==='true'){
    document.body.classList.add('dark-mode');
    const btn=document.querySelector('.dark-mode-toggle');
    if(btn)btn.textContent='â˜€ï¸ Modo Claro';
  }
  const saved=localStorage.getItem('oracleQuizProgress');
  if(saved){
    document.getElementById('continueBtn').style.display='inline-block';
    // Si habÃ­a una sesiÃ³n activa, restaurarla automÃ¡ticamente con F5
    const data=JSON.parse(saved);
    if(data.quizActive){
      restoreSession();
    }
  }
});

// Restaurar sesiÃ³n cuando el usuario pulsa "Continuar donde quedÃ©" o con F5
function restoreSession(){
  const saved=localStorage.getItem('oracleQuizProgress');
  if(!saved)return;
  try{
    const data=JSON.parse(saved);
    quizMode=data.savedQuizMode||'practice';
    examMode=data.savedExamMode||false;
    if(data.savedQuestionNumbers&&data.savedQuestionNumbers.length>0){
      questions=data.savedQuestionNumbers.map(n=>allQuestions.find(q=>q.number===n)).filter(Boolean);
